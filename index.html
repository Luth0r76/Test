<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Teorico 1</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 100%; 
            margin: 0 auto;
            padding: 20px;
            background-color: #ebfff1;
            font-size: 16px;
            line-height: 1.5;
        }

        #title {
            font-size: 24px;
            text-align: center;
            margin-bottom: 20px;
        }

        #question-number {
            font-size: 22px;
            text-align: center;
            margin-top: 20px;
        }

        #question-text {
            font-weight: bold;
            font-size: 24px;
            margin-bottom: 20px;
            line-height: 1.3;
        }

        .option-btn {
            display: block;
            width: 100%;
            padding: 10px;
            margin: 10px 0;
            background-color: #ffffff;
            color: #000000;
            border: 1px solid #000000;
            border-radius: 5px;
            cursor: pointer;
            text-align: left;
            font-size: 22px;
            transition: background-color 0.3s;
        }
        
        .option-btn.correct {
            background-color: #90EE90;
            border-color: #32CD32;
        }

        .option-btn.incorrect {
            background-color: #FFB6C1;
            border-color: #FF0000;
        }

        @media (min-width: 768px) {
            body {
                font-size: 22px;
                max-width: 800px;
            }

            #title {
                font-size: 28px;
            }

            #question-number {
                font-size: 20px;
            }

            .question-container {
                 margin-bottom: 15px;
            }

            .question-text {
                 font-weight: bold;
                 color: #024d93;
                 margin-right: 15px;
                 margin-bottom: 5px;
                 display: block;
            }

            .question-main {
                 display: inline;
            }

            .option-btn {
                font-size: 20px;
            }
        }
        #stats-container {
            overflow-y: auto;
            max-height: 80vh;
            padding: 20px;
            background-color: #f9f9f9;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
            border: 1px solid #000000;
        }

        #question-options-container {
            background-color: #f1f1f1;
            padding: 10px;
            border-radius: 10px;
            box-shadow: 4px 4px 10px rgba(0, 0, 0, 0.872);
            margin-bottom: 10px;
            border: 1px solid #000000;
        }
        .quizbot {
            width: 100px;
            height: 100px;
            margin-right: 1px;
        }

    </style>
</head>
<body>
    <div id="stats-container" style="display:none;"></div>
    <div id="question-container">
            <div id="question-options-container">
              
            <h1 id="title">Jose Academy</h1>
            <h2>Teórico 1</h2>
            <img src="img/quizbot.svg" alt="Quizbot" class="quizbot">
            <div id="question-text"></div>
            <div id="options"></div>
            <h2 id="question-number"></h2>
        </div>
    </div>



    <script>
        const questions = [
        {   
        "pregunta": "¿Qué función desempeña la Dirección General de la Marina Mercante?",
        "opciones": [
            "Establecer tarifas para la navegación",
            "Aprobar planes de protección de los buques y sus modificaciones",
            "Coordinar actividades recreativas en el puerto",
            "Reglamentar el uso de embarcaciones de recreo"
        ],
        "correcta": "Aprobar planes de protección de los buques y sus modificaciones"
    },
    {
        "pregunta": "¿Qué se requiere para ejercer actividades en las Zonas de Servicio de los puertos?",
        "opciones": [
            "Una autorización administrativa",
            "Decisión del consejo de administración",
            "Licencia de seguridad",
            "Certificado de calidad"
        ],
        "correcta": "Una autorización administrativa"
    },
    {
        "pregunta": "¿Quién tiene la competencia para ordenar el atraque y amarre de los buques?",
        "opciones": [
            "La Dirección del Puerto Autónomo",
            "La Autoridad de Marina competente",
            "El consejo de administración",
            "Los capitanes de los buques"
        ],
        "correcta": "La Autoridad de Marina competente"
    },
    {
        "pregunta": "¿Qué tipo de operaciones están destinadas a realizarse en los puertos?",
        "opciones": [
            "Cualquier tipo de actividad comercial",
            "Operaciones de carga y descarga",
            "Solo transbordo de mercancías",
            "Ninguna actividad comercial"
        ],
        "correcta": "Operaciones de carga y descarga"
    },
    {
        "pregunta": "¿Qué se debe proporcionar al solicitar acceso a la zona de servicio?",
        "opciones": [
            "Información sobre el tipo de carga",
            "Una carta de presentación",
            "Un permiso de navegación",
            "Detalles sobre la tripulación"
        ],
        "correcta": "Información sobre el tipo de carga"
    },
    {
        "pregunta": "¿Qué deberá hacer la Dirección del Puerto Autónomo si un buque no puede atracar directamente?",
        "opciones": [
            "Advertir a la autoridad de marina",
            "Permitir que fondee donde desee",
            "Rechazar sus solicitudes futuras",
            "Iniciar un procedimiento legal"
        ],
        "correcta": "Advertir a la autoridad de marina"
    },
    {
        "pregunta": "¿Qué se establece en el artículo 3º sobre las competencias del Puerto Autónomo de Valencia?",
        "opciones": [
            "La regulación de las operaciones de carga y descarga",
            "La prohibición del uso de muelles",
            "La guarda del dominio público portuario",
            "La asignación de atraques a buques extranjeros"
        ],
        "correcta": "La regulación de las operaciones de carga y descarga"
    },
    {
        "pregunta": "¿Quién es responsable de la dirección y control de los servicios en el Puerto Autónomo según el artículo 4º?",
        "opciones": [
            "El Consejo de Administración",
            "El Director del Puerto Autónomo",
            "La Autoridad de Marina",
            "Los administradores de las concesiones"
        ],
        "correcta": "El Director del Puerto Autónomo"
    },
    {
        "pregunta": "¿Qué deben solicitar las personas o entidades privadas para ejercer sus actividades en las Zonas de Servicio de los puertos?",
        "opciones": [
            "Las tarifas correspondientes",
            "Una concesión administrativa",
            "Una autorización verbal",
            "Ningún requisito previo"
        ],
        "correcta": "Una concesión administrativa"
    },
    {
        "pregunta": "Según el artículo 11º, ¿quién determina las normas reguladoras de acceso a las zonas restringidas?",
        "opciones": [
            "El Director del Puerto Autónomo",
            "La Autoridad de Marina",
            "El Consejo de Administración",
            "Los representantes de las empresas estibadoras"
        ],
        "correcta": "El Consejo de Administración"
    },
    {
        "pregunta": "¿Qué criterio se aplica para establecer el turno de atraques según el artículo 21º?",
        "opciones": [
            "El tiempo de espera en muelle",
            "La fecha de llegada a puerto",
            "La nacionalidad del buque",
            "El tamaño del barco"
        ],
        "correcta": "La fecha de llegada a puerto"
    },
    {
        "pregunta": "¿Cuál es el ámbito de aplicación del Reglamento de mercancías peligrosas?",
        "opciones": [
            "Operaciones en zonas portuarias",
            "Transporte terrestre exclusivamente",
            "Servir a buques de guerra",
            "Deberán ser almacenadas en una zona sin vigilancia"
        ],
        "correcta": "Operaciones en zonas portuarias"
    },
    {
        "pregunta": "¿Qué medidas se deben tomar durante la admisión y manipulación de mercancías peligrosas?",
        "opciones": [
            "No es necesario un sistema operativo de comunicación",
            "Las operaciones deben ser controladas por el Operador del muelle",
            "Los buques pueden amarrarse sin supervisión",
            "Las operaciones no requieren el permiso del Capitán del puerto"
        ],
        "correcta": "Las operaciones deben ser controladas por el Operador del muelle"
    },
    {
        "pregunta": "¿Qué obligación tienen los buques que operan con mercancías peligrosas?",
        "opciones": [
            "Realizar operaciones sin supervisión",
            "Estar señalizados y cumplir con las normas",
            "No informar al operador del muelle",
            "No requerir el uso de equipo de emergencia"
        ],
        "correcta": "Estar señalizados y cumplir con las normas"
    },
    {
        "pregunta": "¿Cómo deben ser identificadas las mercancías peligrosas durante su transporte?",
        "opciones": [
            "Con etiquetas que no superen 50mm",
            "Con la descripción genérica de la mercancía",
            "Debiendo llevar el nombre técnico correcto de la sustancia",
            "Sin necesidad de ningún marcaje específico"
        ],
        "correcta": "Debiendo llevar el nombre técnico correcto de la sustancia"
    },
    {
        "pregunta": "¿Qué se debe hacer con las mercancías peligrosas clasificadas como explosivos?",
        "opciones": [
            "Pueden ser manipuladas sin restricciones",
            "Su admisión se sujeta a condiciones específicas",
            "No necesitan estar embaladas",
            "Pueden ser transportadas en cualquier tipo de contenedor"
        ],
        "correcta": "Su admisión se sujeta a condiciones específicas"
    },
    {
        "pregunta": "¿Qué incluirá un Plan de Emergencia en el contexto de mercancías peligrosas?",
        "opciones": [
            "Solo los procedimientos de manejo de carga",
            "Acciones iniciales y coordinación",
            "Exclusivamente medidas de seguridad del muelle",
            "No será necesario ningún tipo de manual o procedimiento"
        ],
        "correcta": "Acciones iniciales y coordinación"
    },
    {
        "pregunta": "¿Cuál es el objetivo principal de la ley de puertos?",
        "opciones": [
            "Regular la seguridad marítima",
            "Determinar y clasificar los puertos",
            "Establecer bonificaciones fiscales",
            "Controlar la contaminación marina"
        ],
        "correcta": "Determinar y clasificar los puertos"
    },
    {
        "pregunta": "¿Qué se entiende por puertos marítimos según la ley?",
        "opciones": [
            "Conjunto de espacios terrestres y aguas marítimas",
            "Instalaciones solo para carga",
            "Campamentos militares",
            "Aguas del interior del país"
        ],
        "correcta": "Conjunto de espacios terrestres y aguas marítimas"
    },
    {
        "pregunta": "¿Qué es el régimen de bonificaciones según la ley?",
        "opciones": [
            "Es un sistema de multas",
            "Permite modificar las tarifas del pasaje",
            "Facilita descuentos a ciertos tráficos y servicios",
            "Es exclusivo para puertos privados"
        ],
        "correcta": "Facilita descuentos a ciertos tráficos y servicios"
    },
    {
        "pregunta": "¿Cómo se clasifican las infracciones administrativas en el ámbito de la Marina Mercante?",
        "opciones": [
            "Leves, medianas y graves",
            "Leves, graves y muy graves",
            "Normales, críticas y urgentes",
            "No se clasifican"
        ],
        "correcta": "Leves, graves y muy graves"
    },
    {
        "pregunta": "¿Cuál es un servicio portuario que se menciona en la ley?",
        "opciones": [
            "Servicio de limpieza",
            "Servicio de remolque portuario",
            "Servicio de cafetería",
            "Servicio de transporte terrestre"
        ],
        "correcta": "Servicio de remolque portuario"
    },
    {
        "pregunta": "¿Qué debe hacer una Autoridad Portuaria para establecer los servicios portuarios?",
        "opciones": [
            "Negociar con empresas extranjeras",
            "Obtener una licencia del Ministerio de Transporte",
            "Realizar un estudio de viabilidad",
            "Obtener la licencia de la Autoridad Portuaria"
        ],
        "correcta": "Obtener la licencia de la Autoridad Portuaria"
    },
    {
        "pregunta": "¿Qué se regula en el régimen económico-financiero de la ley de puertos?",
        "opciones": [
            "El control de salarios",
            "La financiación de instalaciones portuarias",
            "Los impuestos sobre mercancías",
            "Las tarifas aeroportuarias"
        ],
        "correcta": "La financiación de instalaciones portuarias"
    },
    {
        "pregunta": "¿Cuál es un principio que deben seguir las Autoridades Portuarias en su política de recursos humanos?",
        "opciones": [
            "Reducir el personal al mínimo necesario",
            "Ajustarse a la política económica del Gobierno",
            "Contratar a empresas extranjeras",
            "Fomentar el trabajo temporal"
        ],
        "correcta": "Ajustarse a la política económica del Gobierno"
    },
    {
        "pregunta": "¿Qué implica el régimen de la prestación de servicios en los puertos?",
        "opciones": [
            "Que toda la gestión la realice el Estado",
            "Que puede haber libre concurrencia en la prestación",
            "Que solo se permite a empresas locales",
            "Que no se permiten licencias"
        ],
        "correcta": "Que puede haber libre concurrencia en la prestación"
    },
    {
        "pregunta": "¿Cuál es una infracción leve según la ley?",
        "opciones": [
            "Vertido no autorizado de productos",
            "Incumplimiento de las ordenanzas del puerto",
            "Acciones que causen graves daños humanos",
            "Acciones con riesgo muy grave"
        ],
        "correcta": "Incumplimiento de las ordenanzas del puerto"
    },
    {
        "pregunta": "¿Qué podrán establecer las Comunidades Autónomas en relación a los puertos?",
        "opciones": [
            "Canons de ocupación",
            "Nuevas normativas internacionales",
            "Subvenciones a empresas privadas",
            "Proyectos inmobiliarios"
        ],
        "correcta": "Canons de ocupación"
    },
    {
        "pregunta": "¿Cuál es la jornada de trabajo general según el convenio?",
        "opciones": [
            "Treinta y cinco horas semanales",
            "Cuarenta horas semanales",
            "Treinta y siete horas y media semanales",
            "Cincuenta horas semanales"
        ],
        "correcta": "Treinta y siete horas y media semanales"
    },
    {
        "pregunta": "¿Qué órgano es responsable de la organización del trabajo en Puertos del Estado?",
        "opciones": [
            "Los trabajadores/as",
            "Los Delegados de Prevención",
            "Los Órganos de Gobierno y Gestión",
            "Los Inspectores de Trabajo"
        ],
        "correcta": "Los Órganos de Gobierno y Gestión"
    },
    {
        "pregunta": "¿Cuál es el máximo de Delegados de Prevención en un organismo público de 200 trabajadores?",
        "opciones": [
            "3 Delegados",
            "5 Delegados",
            "4 Delegados",
            "6 Delegados"
        ],
        "correcta": "4 Delegados"
    },
    {
        "pregunta": "¿Cuánto tiempo se reconoce para el disfrute de permisos de maternidad por adopción?",
        "opciones": [
            "Ocho semanas",
            "Dieciséis semanas",
            "Veinte semanas",
            "Doce semanas"
        ],
        "correcta": "Dieciséis semanas"
    },
    {
        "pregunta": "¿Qué debe realizarse en el caso de que un trabajador/a quiera reingresar tras una excedencia especial?",
        "opciones": [
            "Solicitarlo con un mes de anticipación",
            "No necesita solicitarlo",
            "Puede reingresar de inmediato",
            "Reingresar sin plazo específico"
        ],
        "correcta": "Solicitarlo con un mes de anticipación"
    },
    {
        "pregunta": "¿Qué se entiende por tráfico de pasajeros?",
        "opciones": [
            "Transporte de mercancías",
            "Movilidad de personas",
            "Carga de equipajes",
            "Manejo de buques"
        ],
        "correcta": "Movilidad de personas"
    },
    {
        "pregunta": "¿Cuál es un término clave a conocer en el tráfico de pasajeros?",
        "opciones": [
            "Buque ligero",
            "Cargamento",
            "Atraque",
            "Estiba"
        ],
        "correcta": "Atraque"
    },
    {
        "pregunta": "¿Qué tipo de tráfico de pasajeros implica la conexión de un buque a una terminal?",
        "opciones": [
            "Transbordo",
            "Liner",
            "Cruce",
            "Conexión"
        ],
        "correcta": "Liner"
    },
    {
        "pregunta": "¿Cuál de los siguientes buques no es un tipo reconocido en el tráfico de pasajeros?",
        "opciones": [
            "Ferry",
            "Yate",
            "Buque de carga",
            "Crucero"
        ],
        "correcta": "Buque de carga"
    },
    {
        "pregunta": "¿Qué significa tránsito de pasajeros en el contexto portuario?",
        "opciones": [
            "Carga de vehículos",
            "Desembarco inmediato",
            "Transportar sin permanecer",
            "Estancia prolongada"
        ],
        "correcta": "Transportar sin permanecer"
    },
    {
        "pregunta": "¿Qué aspecto es fundamental en la recepción y atención a los pasajeros?",
        "opciones": [
            "Seguridad en el muelle",
            "Organización de horarios de trenes",
            "Control de equipamiento",
            "Facilitar el embarque"
        ],
        "correcta": "Facilitar el embarque"
    },
    {
        "pregunta": "¿Qué instalaciones deben estar disponibles para el acceso público en un puerto?",
        "opciones": [
            "Áreas de carga",
            "Estacionamientos para barcos",
            "Plataformas de embarque",
            "Cúpulas de control"
        ],
        "correcta": "Plataformas de embarque"
    },
    {
        "pregunta": "¿Qué directrices son cruciales para el tráfico de pasajeros?",
        "opciones": [
            "Normativas de carga",
            "Reglamento de seguridad",
            "Ley de transporte terrestre",
            "Políticas comerciales"
        ],
        "correcta": "Reglamento de seguridad"
    },
    {
        "pregunta": "¿Cuál es un servicio importante en el tráfico de pasajeros en puertos?",
        "opciones": [
            "Detección de incendios",
            "Servicio de transporte de mercancías",
            "Atención a emergencias",
            "Embarque de pasajeros"
        ],
        "correcta": "Embarque de pasajeros"
    }
];
        let currentQuestionIndex = 0;
        let correctAnswers = 0;
        let incorrectAnswers = 0;
        let answers = [];

        function loadQuestion() {
    if (currentQuestionIndex >= questions.length) {
        showStats();
        return;
    }
    
    const question = questions[currentQuestionIndex];
    document.getElementById('question-number').textContent = `Pregunta ${currentQuestionIndex + 1} de ${questions.length}`;
    
    const questionTextContainer = document.getElementById('question-text');
    questionTextContainer.innerHTML = '';
    
    const questionContainer = document.createElement('div');
    questionContainer.className = 'question-container';
    
    const questionTextElement = document.createElement('span');
    questionTextElement.className = 'question-text';
    questionTextElement.textContent = question.pregunta;  // Acceder correctamente al texto de la pregunta
    questionContainer.appendChild(questionTextElement);
    
    questionTextContainer.appendChild(questionContainer);

    const optionsContainer = document.getElementById('options');
    optionsContainer.innerHTML = '';
    question.opciones.forEach((option, index) => {
        const button = document.createElement('button');
        button.textContent = option;
        button.classList.add('option-btn');
        button.onclick = () => checkAnswer(index);
        optionsContainer.appendChild(button);
    });
}


        function checkAnswer(selectedIndex) {
    const question = questions[currentQuestionIndex];
    const buttons = document.querySelectorAll('.option-btn');
    
    let selectedAnswer = question.opciones[selectedIndex];  // Obtener el texto de la respuesta seleccionada
    let isCorrect = selectedAnswer === question.correcta;  // Comparar el texto seleccionado con la respuesta correcta

    answers.push({
        question: question.pregunta,
        userAnswer: selectedAnswer,
        correctAnswer: question.correcta,
        isCorrect: isCorrect
    });

    buttons.forEach((button, index) => {
        if (question.opciones[index] === question.correcta) {
            button.classList.add('correct');
        } else if (index === selectedIndex && !isCorrect) {
            button.classList.add('incorrect');
        }
        button.disabled = true;
    });

    if (isCorrect) {
        correctAnswers++;
    } else {
        incorrectAnswers++;
    }

    setTimeout(nextQuestion, 1000);
}



        function nextQuestion() {
            currentQuestionIndex++;
            if (currentQuestionIndex < questions.length) {
                loadQuestion();
            } else {
                showStats();
            }
        }

        function showStats() {
            const questionContainer = document.getElementById('question-container');
            const statsContainer = document.getElementById('stats-container');
            
            questionContainer.style.display = 'none';
            statsContainer.style.display = 'block';
            
            let resultHTML = `
                <h2 style="color: black; margin-bottom: 20px; text-align: center;">Test completado</h2>
                <div style="text-align: center; margin-bottom: 20px;">
                    <p style="color: black; margin: 10px 0;">Respuestas correctas: <span style="color: green; font-weight: bold;">${correctAnswers}</span></p>
                    <p style="color: black; margin: 10px 0;">Respuestas incorrectas: <span style="color: red; font-weight: bold;">${incorrectAnswers}</span></p>
                    <p style="color: black; margin: 10px 0;">Porcentaje de aciertos: <span style="font-weight: bold;">${((correctAnswers / questions.length) * 100).toFixed(2)}%</span></p>
                </div>
                <div style="width: 300px; height: 300px; margin: 0 auto;">
                    <canvas id="resultChart"></canvas>
                </div>
            `;

            if (incorrectAnswers > 0) {
                resultHTML += '<h3 style="color: black; margin-top: 30px;">Resumen de respuestas incorrectas:</h3>';
                
                answers.forEach((answer, index) => {
                    if (!answer.isCorrect) {
                        resultHTML += `
                            <div style="margin-bottom: 20px; padding: 15px; border: 1px solid red; border-radius: 5px; background-color: #fff;">
                                <p style="color: black; margin: 5px 0;"><strong>Pregunta ${index + 1}: ${answer.question}</strong></p>
                                <p style="color: red; margin: 5px 0;">Tu respuesta: ${answer.userAnswer}</p>
                                <p style="color: green; margin: 5px 0;">Respuesta correcta: ${answer.correctAnswer}</p>
                            </div>
                        `;
                    }
                });
            } else {
                resultHTML += '<h3 style="color: black; margin-top: 30px; text-align: center;">¡Felicidades! Has respondido correctamente todas las preguntas.</h3>';
            }

            statsContainer.innerHTML = resultHTML;

            const ctx = document.getElementById('resultChart').getContext('2d');
            new Chart(ctx, {
                type: 'pie',
                data: {
                    labels: ['Correctas', 'Incorrectas'],
                    datasets: [{
                        data: [correctAnswers, incorrectAnswers],
                        backgroundColor: ['#90EE90', '#FFB6C1'],
                        borderColor: ['#32CD32', '#FF0000'],
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    title: {
                        display: true,
                        text: 'Resultados del test'
                    }
                }
            });

            window.scrollTo(0, 0);
        }

        loadQuestion();
    </script>
</body>
</html>
